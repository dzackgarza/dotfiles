# Task ID: 8
# Title: Implement Auto-Scroll and Content-Driven Sizing
# Status: pending
# Dependencies: 3
# Priority: medium
# Description: Implement auto-scroll behavior and content-driven sizing for the Sacred Timeline. This ensures that the timeline always scrolls to the bottom when new messages are added and that the widgets are sized correctly based on their content.
# Details:
1. Implement auto-scroll behavior for the `VerticalScroll` container in the Sacred Timeline.
2. Implement content-driven sizing for the `SimpleBlockWidget` to ensure that the widgets are sized correctly based on their content.
3. Ensure that the timeline always scrolls to the bottom when new messages are added.

# Test Strategy:
Enter multiple messages in the `PromptInput` widget. Verify that the timeline always scrolls to the bottom when new messages are added. Ensure that the widgets are sized correctly based on their content.

# Subtasks:
## 1. Implement Smart Auto-Scroll for Sacred Timeline [pending]
### Dependencies: None
### Description: Implement smart auto-scroll behavior for the Sacred Timeline's VerticalScroll container, ensuring it scrolls to the bottom on new messages while preserving the user's ability to review past messages. Prevent scroll stealing.
### Details:
Utilize Textual's VerticalScroll container and implement logic to detect user interaction (e.g., scrolling up) to temporarily disable auto-scroll. Re-enable auto-scroll when the user scrolls back to the bottom or a new message is added.

## 2. Implement Content-Driven Sizing for SimpleBlockWidget [pending]
### Dependencies: None
### Description: Implement content-driven sizing for the SimpleBlockWidget to ensure widgets are sized correctly based on their content, dynamically adjusting height to fit the text.
### Details:
Calculate the required height of the SimpleBlockWidget based on the text content and set the widget's height accordingly. Consider using Textual's layout system to automatically adjust the widget's size.

## 3. Implement Smooth Scroll Animations [pending]
### Dependencies: 8.1
### Description: Implement smooth scroll animations for the Sacred Timeline's auto-scroll behavior to provide a better user experience.
### Details:
Use Textual's animation capabilities to create a smooth scrolling effect when auto-scrolling to the bottom of the timeline. Configure the animation duration and easing function for optimal visual appeal.

## 4. Optimize Timeline Scrolling Performance [pending]
### Dependencies: 8.1, 8.2, 8.3
### Description: Optimize the performance of the Sacred Timeline's scrolling behavior, especially with a large number of messages, to ensure smooth and responsive scrolling.
### Details:
Implement techniques such as virtual scrolling or lazy loading to improve scrolling performance. Profile the timeline's scrolling behavior to identify and address any performance bottlenecks.

