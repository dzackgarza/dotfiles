# Kitty configuration for LLM REPL
# Enhanced keyboard protocol for better key detection

# Enable kitty's enhanced keyboard protocol
# This allows applications to receive more detailed key events
enable_audio_bell no

# Key mappings for better Shift+Enter detection
# Unmap any conflicting kitty shortcuts first
map shift+enter no_op

# Alternative: explicitly send the key sequence
# map shift+enter send_text all \x1b[13;2u

# Enable extended keyboard reporting
# This helps applications distinguish between different key combinations
map f1 send_text all \x1b[1;1P
map f2 send_text all \x1b[1;1Q
map f3 send_text all \x1b[1;1R
map f4 send_text all \x1b[1;1S

# Disable some default kitty shortcuts that might interfere
map ctrl+shift+t no_op
map ctrl+shift+n no_op
map ctrl+shift+w no_op

# Font settings optimized for terminal applications
font_family JetBrains Mono
font_size 12.0
adjust_line_height 0
adjust_column_width 0

# Colors optimized for dark themes
background #1a1a1a
foreground #f8f8f2
cursor #f8f8f0

# Selection colors
selection_background #44475a
selection_foreground none

# Terminal bell
visual_bell_duration 0.0
enable_audio_bell no
bell_on_tab "ðŸ”” "

# Window settings
remember_window_size yes
initial_window_width 120c
initial_window_height 30c
window_padding_width 4
confirm_os_window_close 0

# Tab settings
tab_bar_edge bottom
tab_bar_style powerline
active_tab_foreground #282a36
active_tab_background #f8f8f2
inactive_tab_foreground #6272a4
inactive_tab_background #282a36

# Advanced keyboard settings
# Report all key events including modifiers
kitty_mod ctrl+shift

# Scrollback
scrollback_lines 10000
wheel_scroll_multiplier 5.0

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes

# URL handling
url_style curly
open_url_with default
copy_on_select no