::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {#__next}
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {.jsx-4145347147 role="main"}
[]{.fixed .inset-0 .bg-background-light .dark:bg-background-dark
.-z-10}[]{.block .absolute .dark:hidden .inset-0
.overflow-hidden}[]{.hidden .absolute .dark:block .inset-0
.overflow-hidden}

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {.relative .antialiased .text-gray-500 .dark:text-gray-400}
:::::::::::::::::::::::::: {#navbar .z-30 .fixed .lg:sticky .top-0 .w-full}
::: {#navbar-transition .absolute .w-full .h-full .backdrop-blur .flex-none .transition-colors .duration-500 .border-b .border-gray-500/5 .dark:border-gray-300/[0.06] .supports-backdrop-blur:bg-background-light/60 .dark:bg-transparent}
:::

:::::::::::::::::::::::: {.max-w-8xl .mx-auto .relative}
<div>

::::::::::::::: relative
::::::::::: {.flex .items-center .lg:px-12 .h-16 .min-w-0 .mx-4 .lg:mx-0}
:::::::::: {.h-full .relative .flex-1 .flex .items-center .gap-x-4 .min-w-0 .border-b .border-gray-500/5 .dark:border-gray-300/[0.06]}
:::: {.flex-1 .flex .items-center .gap-x-4}
[[Anthropic home page]{.sr-only}![light
logo](https://mintlify.s3.us-west-1.amazonaws.com/anthropic/logo/light.svg){.nav-logo
.w-auto .h-7 .relative .object-contain .block .dark:hidden}![dark
logo](https://mintlify.s3.us-west-1.amazonaws.com/anthropic/logo/dark.svg){.nav-logo
.w-auto .h-7 .relative .object-contain .hidden .dark:block}](/)

::: {.flex .items-center .gap-x-2}
English![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld2JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9Imx1Y2lkZSBsdWNpZGUtY2hldnJvbi1kb3duIj48cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+PC9zdmc+){.lucide
.lucide-chevron-down}
:::
::::

:::: {.flex .items-center .gap-3 .min-w-[42px]}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld2JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXNlYXJjaCBtaW4tdy00IGZsZXgtbm9uZSB0ZXh0LWdyYXktNzAwIGhvdmVyOnRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmRhcms6dGV4dC1ncmF5LTIwMCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxMSIgcj0iOCI+PC9jaXJjbGU+PHBhdGggZD0ibTIxIDIxLTQuMy00LjMiIC8+PC9zdmc+){.lucide
.lucide-search .min-w-4 .flex-none .text-gray-700 .hover:text-gray-800
.dark:text-gray-300 .hover:dark:text-gray-200}

::: {.truncate .min-w-0}
Search\...
:::
::::

:::: {.flex-1 .relative .hidden .lg:flex .items-center .ml-auto .justify-end .space-x-4}
-   [Research](https://www.anthropic.com/research){.whitespace-nowrap
    .font-medium .text-gray-600 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300 target="_blank"}
-   [Login](https://console.anthropic.com/login){.whitespace-nowrap
    .font-medium .text-gray-600 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300 target="_blank"}
-   [Support](https://support.anthropic.com/){.whitespace-nowrap
    .font-medium .text-gray-600 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300 target="_blank"}
-   [Sign up](https://console.anthropic.com/login){.whitespace-nowrap
    .font-medium .text-gray-600 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300}
-   [[[]{.absolute .inset-0 .bg-primary-dark .rounded-full
    .group-hover:opacity-[0.9]}](https://console.anthropic.com/login){.group
    .px-4 .py-1.5 .relative .inline-flex .items-center .text-sm
    .font-medium target="_blank"}]{#topbar-cta-button}

    ::: {.mr-0.5 .space-x-2.5 .flex .items-center}
    [Sign up]{.z-10
    .text-white}![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMyIgaGVpZ2h0PSIyNCIgdmlld2JveD0iMCAtOSAzIDI0IiBjbGFzcz0iaC01IHJvdGF0ZS0wIG92ZXJmbG93LXZpc2libGUgdGV4dC13aGl0ZS85MCI+PHBhdGggZD0iTTAgMEwzIDNMMCA2IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgLz48L3N2Zz4=){.h-5
    .rotate-0 .overflow-visible .text-white/90}
    :::

::: {.flex .items-center}
![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdib3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9ImgtNCB3LTQgYmxvY2sgdGV4dC1ncmF5LTQwMCBkYXJrOmhpZGRlbiBncm91cC1ob3Zlcjp0ZXh0LWdyYXktNjAwIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMjg4MF83MzQwKSI+PHBhdGggZD0iTTggMS4xMTEzM1YyLjAwMDIyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPjxwYXRoIGQ9Ik0xMi44NzExIDMuMTI4OTFMMTIuMjQyNyAzLjc1NzM1IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPjxwYXRoIGQ9Ik0xNC44ODg5IDhIMTQiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PHBhdGggZD0iTTEyLjg3MTEgMTIuODcxMUwxMi4yNDI3IDEyLjI0MjciIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PHBhdGggZD0iTTggMTQuODg4OVYxNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz48cGF0aCBkPSJNMy4xMjg5MSAxMi44NzExTDMuNzU3MzUgMTIuMjQyNyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz48cGF0aCBkPSJNMS4xMTEzMyA4SDIuMDAwMjIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PHBhdGggZD0iTTMuMTI4OTEgMy4xMjg5MUwzLjc1NzM1IDMuNzU3MzUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PHBhdGggZD0iTTguMDAwNDMgMTEuNzc4MkMxMC4wODY4IDExLjc3ODIgMTEuNzc4MiAxMC4wODY4IDExLjc3ODIgOC4wMDA0M0MxMS43NzgyIDUuOTE0MDIgMTAuMDg2OCA0LjIyMjY2IDguMDAwNDMgNC4yMjI2NkM1LjkxNDAyIDQuMjIyNjYgNC4yMjI2NiA1LjkxNDAyIDQuMjIyNjYgOC4wMDA0M0M0LjIyMjY2IDEwLjA4NjggNS45MTQwMiAxMS43NzgyIDguMDAwNDMgMTEuNzc4MloiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PC9nPjxkZWZzPjxjbGlwcGF0aCBpZD0iY2xpcDBfMjg4MF83MzQwIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IndoaXRlIiAvPjwvY2xpcHBhdGg+PC9kZWZzPjwvc3ZnPg==){.h-4
.w-4 .block .text-gray-400 .dark:hidden
.group-hover:text-gray-600}![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld2JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLW1vb24gaC00IHctNCBoaWRkZW4gZGFyazpibG9jayB0ZXh0LWdyYXktNTAwIGRhcms6Z3JvdXAtaG92ZXI6dGV4dC1ncmF5LTMwMCI+PHBhdGggZD0iTTEyIDNhNiA2IDAgMCAwIDkgOSA5IDkgMCAxIDEtOS05WiIgLz48L3N2Zz4=){.lucide
.lucide-moon .h-4 .w-4 .hidden .dark:block .text-gray-500
.dark:group-hover:text-gray-300}
:::
::::

::: {.flex .lg:hidden .items-center .gap-2}
[Search\...]{.sr-only}![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBiZy1ncmF5LTUwMCBkYXJrOmJnLWdyYXktNDAwIGhvdmVyOmJnLWdyYXktNjAwIGRhcms6aG92ZXI6YmctZ3JheS0zMDAiIHN0eWxlPSItd2Via2l0LW1hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9zb2xpZC9tYWduaWZ5aW5nLWdsYXNzLnN2Zyk7LXdlYmtpdC1tYXNrLXJlcGVhdDpuby1yZXBlYXQ7LXdlYmtpdC1tYXNrLXBvc2l0aW9uOmNlbnRlcjttYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvc29saWQvbWFnbmlmeWluZy1nbGFzcy5zdmcpO21hc2stcmVwZWF0Om5vLXJlcGVhdDttYXNrLXBvc2l0aW9uOmNlbnRlciI+PC9zdmc+){.h-4
.w-4 .bg-gray-500 .dark:bg-gray-400 .hover:bg-gray-600
.dark:hover:bg-gray-300}

![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBiZy1ncmF5LTUwMCBkYXJrOmJnLWdyYXktNDAwIGhvdmVyOmJnLWdyYXktNjAwIGRhcms6aG92ZXI6YmctZ3JheS0zMDAiIHN0eWxlPSItd2Via2l0LW1hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9zb2xpZC9lbGxpcHNpcy12ZXJ0aWNhbC5zdmcpOy13ZWJraXQtbWFzay1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtbWFzay1wb3NpdGlvbjpjZW50ZXI7bWFzay1pbWFnZTp1cmwoaHR0cHM6Ly9taW50bGlmeS5iLWNkbi5uZXQvdjYuNi4wL3NvbGlkL2VsbGlwc2lzLXZlcnRpY2FsLnN2Zyk7bWFzay1yZXBlYXQ6bm8tcmVwZWF0O21hc2stcG9zaXRpb246Y2VudGVyIj48L3N2Zz4=){.h-4
.w-4 .bg-gray-500 .dark:bg-gray-400 .hover:bg-gray-600
.dark:hover:bg-gray-300}
:::
::::::::::
:::::::::::

::::: {.flex .items-center .h-14 .py-4 .px-5 .lg:hidden}
[Navigation]{.sr-only}![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IiBmaWxsPSJjdXJyZW50Q29sb3IiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld2JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGQ9Ik0wIDk2QzAgNzguMyAxNC4zIDY0IDMyIDY0SDQxNmMxNy43IDAgMzIgMTQuMyAzMiAzMnMtMTQuMyAzMi0zMiAzMkgzMkMxNC4zIDEyOCAwIDExMy43IDAgOTZ6TTAgMjU2YzAtMTcuNyAxNC4zLTMyIDMyLTMySDQxNmMxNy43IDAgMzIgMTQuMyAzMiAzMnMtMTQuMyAzMi0zMiAzMkgzMmMtMTcuNyAwLTMyLTE0LjMtMzItMzJ6TTQ0OCA0MTZjMCAxNy43LTE0LjMgMzItMzIgMzJIMzJjLTE3LjcgMC0zMi0xNC4zLTMyLTMyczE0LjMtMzIgMzItMzJINDE2YzE3LjcgMCAzMiAxNC4zIDMyIDMyeiIgLz48L3N2Zz4=){.h-4}

:::: {.ml-4 .flex .text-sm .leading-6 .whitespace-nowrap .min-w-0 .space-x-3}
::: {.font-semibold .text-gray-900 .truncate .dark:text-gray-200}
Hooks
:::
::::
:::::
:::::::::::::::

::::::::: {.hidden .lg:flex .px-12 .h-12}
:::::::: {.nav-tabs .h-full .flex .text-sm .space-x-6}
[Getting Started](/en/docs/claude-code/overview){.link .nav-tabs-item
.group .relative .h-full .flex .items-center .font-medium .text-gray-600
.dark:text-gray-400 .hover:text-gray-800 .dark:hover:text-gray-300}

::: {.absolute .bottom-0 .h-[1.5px] .w-full .group-hover:bg-gray-200 .dark:group-hover:bg-gray-700}
:::

[Developer Guide](/en/docs/claude-code/sdk){.link .nav-tabs-item .group
.relative .h-full .flex .items-center .font-medium .text-gray-600
.dark:text-gray-400 .hover:text-gray-800 .dark:hover:text-gray-300}

::: {.absolute .bottom-0 .h-[1.5px] .w-full .group-hover:bg-gray-200 .dark:group-hover:bg-gray-700}
:::

[Reference](/en/docs/claude-code/cli-reference){.link .nav-tabs-item
.group .relative .h-full .flex .items-center .text-gray-800
.dark:text-gray-200 .font-semibold}

::: {.absolute .bottom-0 .h-[1.5px] .w-full .bg-primary .dark:bg-primary-light}
:::

[Resources](/en/docs/claude-code/data-usage){.link .nav-tabs-item .group
.relative .h-full .flex .items-center .font-medium .text-gray-600
.dark:text-gray-400 .hover:text-gray-800 .dark:hover:text-gray-300}

::: {.absolute .bottom-0 .h-[1.5px] .w-full .group-hover:bg-gray-200 .dark:group-hover:bg-gray-700}
:::

[Release Notes](/en/release-notes/claude-code){.link .nav-tabs-item
.group .relative .h-full .flex .items-center .font-medium .text-gray-600
.dark:text-gray-400 .hover:text-gray-800 .dark:hover:text-gray-300}

::: {.absolute .bottom-0 .h-[1.5px] .w-full .group-hover:bg-gray-200 .dark:group-hover:bg-gray-700}
:::
::::::::
:::::::::

</div>
::::::::::::::::::::::::
::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {.max-w-8xl .px-4 .mx-auto .lg:px-8}
::::::::::: {#sidebar .z-20 .hidden .lg:block .fixed .bottom-0 .right-auto .w-[18rem] style="top:7rem"}
:::::::::: {#sidebar-content .absolute .inset-0 .z-10 .stable-scrollbar-gutter .overflow-auto .pr-8 .pb-10}
::::::::: {.relative .lg:text-sm .lg:leading-6}
::: {.sticky .top-0 .h-8 .bg-gradient-to-b .from-background-light .dark:from-background-dark}
:::

::::::: {#navigation-items}
[](/en/home){.link .nav-anchor .pl-4 .group .flex .items-center
.lg:text-sm .lg:leading-6 .mb-5 .sm:mb-4 .font-medium .text-gray-600
.hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}

::: {.mr-4 .rounded-md .p-1 .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .group-hover:brightness-100 .group-hover:ring-0 .ring-1 .ring-gray-950/5 .dark:ring-gray-700/40}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBzZWNvbmRhcnktb3BhY2l0eSBncm91cC1ob3ZlcjpmaWxsLXByaW1hcnktZGFyayBncm91cC1ob3ZlcjpiZy13aGl0ZSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIiBzdHlsZT0iLXdlYmtpdC1tYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvZHVvdG9uZS9ob3VzZS5zdmcpOy13ZWJraXQtbWFzay1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtbWFzay1wb3NpdGlvbjpjZW50ZXI7bWFzay1pbWFnZTp1cmwoaHR0cHM6Ly9taW50bGlmeS5iLWNkbi5uZXQvdjYuNi4wL2R1b3RvbmUvaG91c2Uuc3ZnKTttYXNrLXJlcGVhdDpuby1yZXBlYXQ7bWFzay1wb3NpdGlvbjpjZW50ZXIiPjwvc3ZnPg==){.h-4
.w-4 .secondary-opacity .group-hover:fill-primary-dark
.group-hover:bg-white .bg-gray-400 .dark:bg-gray-500}
:::

Home

[](/en/docs/intro){.link .nav-anchor .pl-4 .group .flex .items-center
.lg:text-sm .lg:leading-6 .mb-5 .sm:mb-4 .font-medium .text-gray-600
.hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}

::: {.mr-4 .rounded-md .p-1 .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .group-hover:brightness-100 .group-hover:ring-0 .ring-1 .ring-gray-950/5 .dark:ring-gray-700/40}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBzZWNvbmRhcnktb3BhY2l0eSBncm91cC1ob3ZlcjpmaWxsLXByaW1hcnktZGFyayBncm91cC1ob3ZlcjpiZy13aGl0ZSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIiBzdHlsZT0iLXdlYmtpdC1tYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvZHVvdG9uZS9jb21wdXRlci5zdmcpOy13ZWJraXQtbWFzay1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtbWFzay1wb3NpdGlvbjpjZW50ZXI7bWFzay1pbWFnZTp1cmwoaHR0cHM6Ly9taW50bGlmeS5iLWNkbi5uZXQvdjYuNi4wL2R1b3RvbmUvY29tcHV0ZXIuc3ZnKTttYXNrLXJlcGVhdDpuby1yZXBlYXQ7bWFzay1wb3NpdGlvbjpjZW50ZXIiPjwvc3ZnPg==){.h-4
.w-4 .secondary-opacity .group-hover:fill-primary-dark
.group-hover:bg-white .bg-gray-400 .dark:bg-gray-500}
:::

Developer Platform

[](/en/docs/claude-code/overview){.link .nav-anchor .pl-4 .group .flex
.items-center .lg:text-sm .lg:leading-6 .mb-5 .sm:mb-4 .font-semibold
.text-primary .dark:text-primary-light}

::: {.mr-4 .rounded-md .p-1 style="background:#0E0E0E"}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBzZWNvbmRhcnktb3BhY2l0eSBncm91cC1ob3ZlcjpmaWxsLXByaW1hcnktZGFyayBncm91cC1ob3ZlcjpiZy13aGl0ZSBiZy13aGl0ZSIgc3R5bGU9Ii13ZWJraXQtbWFzay1pbWFnZTp1cmwoaHR0cHM6Ly9taW50bGlmeS5iLWNkbi5uZXQvdjYuNi4wL2R1b3RvbmUvc3F1YXJlLXRlcm1pbmFsLnN2Zyk7LXdlYmtpdC1tYXNrLXJlcGVhdDpuby1yZXBlYXQ7LXdlYmtpdC1tYXNrLXBvc2l0aW9uOmNlbnRlcjttYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvZHVvdG9uZS9zcXVhcmUtdGVybWluYWwuc3ZnKTttYXNrLXJlcGVhdDpuby1yZXBlYXQ7bWFzay1wb3NpdGlvbjpjZW50ZXIiPjwvc3ZnPg==){.h-4
.w-4 .secondary-opacity .group-hover:fill-primary-dark
.group-hover:bg-white .bg-white}
:::

Claude Code

[](https://modelcontextprotocol.io){.link .nav-anchor .pl-4 .group .flex
.items-center .lg:text-sm .lg:leading-6 .mb-5 .sm:mb-4 .font-medium
.text-gray-600 .hover:text-gray-900 .dark:text-gray-400
.dark:hover:text-gray-300 target="_blank" rel="noreferrer"}

::: {.mr-4 .rounded-md .p-1 .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .group-hover:brightness-100 .group-hover:ring-0 .ring-1 .ring-gray-950/5 .dark:ring-gray-700/40}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaC00IHctNCBzZWNvbmRhcnktb3BhY2l0eSBncm91cC1ob3ZlcjpmaWxsLXByaW1hcnktZGFyayBncm91cC1ob3ZlcjpiZy13aGl0ZSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIiBzdHlsZT0iLXdlYmtpdC1tYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvZHVvdG9uZS9ib29rLW9wZW4uc3ZnKTstd2Via2l0LW1hc2stcmVwZWF0Om5vLXJlcGVhdDstd2Via2l0LW1hc2stcG9zaXRpb246Y2VudGVyO21hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9kdW90b25lL2Jvb2stb3Blbi5zdmcpO21hc2stcmVwZWF0Om5vLXJlcGVhdDttYXNrLXBvc2l0aW9uOmNlbnRlciI+PC9zdmc+){.h-4
.w-4 .secondary-opacity .group-hover:fill-primary-dark
.group-hover:bg-white .bg-gray-400 .dark:bg-gray-500}
:::

Model Context Protocol (MCP)

-   [[](/en/docs/claude-code/cli-reference){.group .mt-2 .lg:mt-0 .flex
    .items-center .pr-3 .py-1.5 .cursor-pointer .focus:outline-primary
    .dark:focus:outline-primary-light .gap-x-3 .rounded-xl
    .hover:bg-gray-600/5 .dark:hover:bg-gray-200/5 .text-gray-700
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="padding-left:1rem"}]{#/en/docs/claude-code/cli-reference}

    :::: {.flex-1 .flex .items-center .space-x-2.5}
    <div>

    CLI reference

    </div>
    ::::

```{=html}
<!-- -->
```
-   [[](/en/docs/claude-code/interactive-mode){.group .mt-2 .lg:mt-0
    .flex .items-center .pr-3 .py-1.5 .cursor-pointer
    .focus:outline-primary .dark:focus:outline-primary-light .gap-x-3
    .rounded-xl .hover:bg-gray-600/5 .dark:hover:bg-gray-200/5
    .text-gray-700 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300
    style="padding-left:1rem"}]{#/en/docs/claude-code/interactive-mode}

    :::: {.flex-1 .flex .items-center .space-x-2.5}
    <div>

    Interactive mode

    </div>
    ::::

```{=html}
<!-- -->
```
-   [[](/en/docs/claude-code/slash-commands){.group .mt-2 .lg:mt-0 .flex
    .items-center .pr-3 .py-1.5 .cursor-pointer .focus:outline-primary
    .dark:focus:outline-primary-light .gap-x-3 .rounded-xl
    .hover:bg-gray-600/5 .dark:hover:bg-gray-200/5 .text-gray-700
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="padding-left:1rem"}]{#/en/docs/claude-code/slash-commands}

    :::: {.flex-1 .flex .items-center .space-x-2.5}
    <div>

    Slash commands

    </div>
    ::::

```{=html}
<!-- -->
```
-   [[](/en/docs/claude-code/hooks){.group .mt-2 .lg:mt-0 .flex
    .items-center .pr-3 .py-1.5 .cursor-pointer .focus:outline-primary
    .dark:focus:outline-primary-light .gap-x-3 .rounded-xl
    .bg-primary/10 .text-primary .font-semibold .dark:text-primary-light
    .dark:bg-primary-light/10
    style="padding-left:1rem"}]{#/en/docs/claude-code/hooks}

    :::: {.flex-1 .flex .items-center .space-x-2.5}
    <div>

    Hooks

    </div>
    ::::
:::::::
:::::::::
::::::::::
:::::::::::

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {#content-container}
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {.flex .flex-row .gap-12 .box-border .w-full .pt-40 .lg:pt-10}
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {#content-area .relative .grow .box-border .flex-col .w-full .mx-auto .px-1 .lg:pl-[23.7rem] .lg:-ml-12 .xl:w-[calc(100%-28rem)]}
:::::::: {#header .relative}
:::::: {.mt-0.5 .space-y-2.5}
::::: {.flex .items-center .relative}
# Hooks {#page-title .inline-block .text-2xl .sm:text-3xl .font-bold .text-gray-900 .tracking-tight .dark:text-gray-200}

:::: {#page-context-menu .absolute .right-0 .flex .items-center .justify-center .-top-2}
::: {.flex .items-center .gap-2 .text-sm .text-center .font-medium}
![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdib3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0idy00IGgtNCI+PHBhdGggZD0iTTE0LjI1IDUuMjVINy4yNUM2LjE0NTQzIDUuMjUgNS4yNSA2LjE0NTQzIDUuMjUgNy4yNVYxNC4yNUM1LjI1IDE1LjM1NDYgNi4xNDU0MyAxNi4yNSA3LjI1IDE2LjI1SDE0LjI1QzE1LjM1NDYgMTYuMjUgMTYuMjUgMTUuMzU0NiAxNi4yNSAxNC4yNVY3LjI1QzE2LjI1IDYuMTQ1NDMgMTUuMzU0NiA1LjI1IDE0LjI1IDUuMjVaIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz48cGF0aCBkPSJNMi44MDEwMyAxMS45OThMMS43NzIwMyA1LjA3Mzk3QzEuNjEwMDMgMy45ODA5NyAyLjM2NDAzIDIuOTYzOTcgMy40NTYwMyAyLjgwMTk3TDEwLjM4IDEuNzcyOTdDMTEuMzEzIDEuNjMzOTcgMTIuMTkgMi4xNjI5NyAxMi41MjggMy4wMDA5NyIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PC9zdmc+){.w-4
.h-4}Copy page
:::

![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIyNCIgdmlld2JveD0iMCAtOSAzIDI0IiBjbGFzcz0idHJhbnNpdGlvbi10cmFuc2Zvcm0gdGV4dC1ncmF5LTQwMCBvdmVyZmxvdy12aXNpYmxlIGdyb3VwLWhvdmVyOnRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNjAwIGRhcms6Z3JvdXAtaG92ZXI6dGV4dC1ncmF5LTQwMCByb3RhdGUtOTAiPjxwYXRoIGQ9Ik0wIDBMMyAzTDAgNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIC8+PC9zdmc+){.transition-transform
.text-gray-400 .overflow-visible .group-hover:text-gray-600
.dark:text-gray-600 .dark:group-hover:text-gray-400 .rotate-90}
::::
:::::
::::::

::: {.mt-2 .text-lg .prose .prose-gray .dark:prose-invert}
Customize and extend Claude Code's behavior by registering shell
commands
:::
::::::::

::: {.flex .flex-col .gap-8}
:::

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: {.mdx-content .relative .mt-8 .prose .prose-gray .dark:prose-invert}
#  {#introduction .flex .whitespace-pre-wrap .group .font-semibold .text-2xl .sm:text-3xl .mt-8}

:::: absolute
[​](#introduction){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Introduction]{.cursor-pointer}

Claude Code hooks are user-defined shell commands that execute at
various points in Claude Code's lifecycle. Hooks provide deterministic
control over Claude Code's behavior, ensuring certain actions always
happen rather than relying on the LLM to choose to run them.

Example use cases include:

-   **Notifications**: Customize how you get notified when Claude Code
    is awaiting your input or permission to run something.
-   **Automatic formatting**: Run `prettier` on .ts files, `gofmt` on
    .go files, etc. after every file edit.
-   **Logging**: Track and count all executed commands for compliance or
    debugging.
-   **Feedback**: Provide automated feedback when Claude Code produces
    code that does not follow your codebase conventions.
-   **Custom permissions**: Block modifications to production files or
    sensitive directories.

By encoding these rules as hooks rather than prompting instructions, you
turn suggestions into app-level code that executes every time it is
expected to run.

::::: {.callout .my-4 .px-5 .py-4 .overflow-hidden .rounded-2xl .flex .gap-3 .border .border-amber-500/20 .bg-amber-50/50 .dark:border-amber-500/30 .dark:bg-amber-500/10 callout-type="warning"}
::: {.mt-0.5 .w-4 component-part="callout-icon"}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iZmxleC1ub25lIHctNSBoLTUgdGV4dC1hbWJlci00MDAgZGFyazp0ZXh0LWFtYmVyLTMwMC84MCIgZmlsbD0ibm9uZSIgdmlld2JveD0iMCAwIDI0IDI0IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBhcmlhLWxhYmVsPSJXYXJuaW5nIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xMiA5djJtMCA0aC4wMW0tNi45MzggNGgxMy44NTZjMS41NCAwIDIuNTAyLTEuNjY3IDEuNzMyLTNMMTMuNzMyIDRjLS43Ny0xLjMzMy0yLjY5NC0xLjMzMy0zLjQ2NCAwTDMuMzQgMTZjLS43NyAxLjMzMy4xOTIgMyAxLjczMiAzeiIgLz48L3N2Zz4=){.flex-none
.w-5 .h-5 .text-amber-400 .dark:text-amber-300/80}
:::

::: {.text-sm .prose .min-w-0 .w-full .text-amber-900 .dark:text-amber-200 component-part="callout-content"}
Hooks execute shell commands with your full user permissions without
confirmation. You are responsible for ensuring your hooks are safe and
secure. Anthropic is not liable for any data loss or system damage
resulting from hook usage. Review [Security
Considerations](/_sites/docs.anthropic.com/en/docs/claude-code/hooks#security-considerations){.link}.
:::
:::::

##  {#quickstart .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#quickstart){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Quickstart]{.cursor-pointer}

In this quickstart, you'll add a hook that logs the shell commands that
Claude Code runs.

Quickstart Prerequisite: Install `jq` for JSON processing in the command
line.

###  {#step-1%3A-open-hooks-configuration .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#step-1%3A-open-hooks-configuration){.-ml-10 .flex .items-center
.opacity-0 .border-0 .group-hover:opacity-100
aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Step 1: Open hooks configuration]{.cursor-pointer}

Run the `/hooks` [slash
command](/en/docs/claude-code/slash-commands){.link} and select the
`PreToolUse` hook event.

`PreToolUse` hooks run before tool calls and can block them while
providing Claude feedback on what to do differently.

###  {#step-2%3A-add-a-matcher .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#step-2%3A-add-a-matcher){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Step 2: Add a matcher]{.cursor-pointer}

Select `+ Add new matcher…` to run your hook only on Bash tool calls.

Type `Bash` for the matcher.

###  {#step-3%3A-add-the-hook .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#step-3%3A-add-the-hook){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Step 3: Add the hook]{.cursor-pointer}

Select `+ Add new hook…` and enter this command:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-bash
jq -r '"\(.tool_input.command) - \(.tool_input.description // "No description")"' >> ~/.claude/bash-command-log.txt
```
:::
::::
:::::

###  {#step-4%3A-save-your-configuration .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#step-4%3A-save-your-configuration){.-ml-10 .flex .items-center
.opacity-0 .border-0 .group-hover:opacity-100
aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Step 4: Save your configuration]{.cursor-pointer}

For storage location, select `User settings` since you're logging to
your home directory. This hook will then apply to all projects, not just
your current project.

Then press Esc until you return to the REPL. Your hook is now
registered!

###  {#step-5%3A-verify-your-hook .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#step-5%3A-verify-your-hook){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Step 5: Verify your hook]{.cursor-pointer}

Run `/hooks` again or check `~/.claude/settings.json` to see your
configuration:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '\"\\(.tool_input.command) - \\(.tool_input.description // \"No description\")\"' >> ~/.claude/bash-command-log.txt"
          }
        ]
      }
    ]
  }
}
```
:::
::::
:::::

##  {#configuration .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#configuration){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Configuration]{.cursor-pointer}

Claude Code hooks are configured in your [settings
files](/en/docs/claude-code/settings){.link}:

-   `~/.claude/settings.json` - User settings
-   `.claude/settings.json` - Project settings
-   `.claude/settings.local.json` - Local project settings (not
    committed)
-   Enterprise managed policy settings

###  {#structure .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#structure){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Structure]{.cursor-pointer}

Hooks are organized by matchers, where each matcher can have multiple
hooks:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "hooks": {
    "EventName": [
      {
        "matcher": "ToolPattern",
        "hooks": [
          {
            "type": "command",
            "command": "your-command-here"
          }
        ]
      }
    ]
  }
}
```
:::
::::
:::::

-   **matcher**: Pattern to match tool names, case-sensitive (only
    applicable for `PreToolUse` and `PostToolUse`)
    -   Simple strings match exactly: `Write` matches only the Write
        tool
    -   Supports regex: `Edit|Write` or `Notebook.*`
    -   If omitted or empty string, hooks run for all matching events
-   **hooks**: Array of commands to execute when the pattern matches
    -   `type`: Currently only `"command"` is supported
    -   `command`: The bash command to execute
    -   `timeout`: (Optional) How long a command should run, in seconds,
        before canceling that specific command.

::::: {.callout .my-4 .px-5 .py-4 .overflow-hidden .rounded-2xl .flex .gap-3 .border .border-amber-500/20 .bg-amber-50/50 .dark:border-amber-500/30 .dark:bg-amber-500/10 callout-type="warning"}
::: {.mt-0.5 .w-4 component-part="callout-icon"}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iZmxleC1ub25lIHctNSBoLTUgdGV4dC1hbWJlci00MDAgZGFyazp0ZXh0LWFtYmVyLTMwMC84MCIgZmlsbD0ibm9uZSIgdmlld2JveD0iMCAwIDI0IDI0IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBhcmlhLWxhYmVsPSJXYXJuaW5nIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xMiA5djJtMCA0aC4wMW0tNi45MzggNGgxMy44NTZjMS41NCAwIDIuNTAyLTEuNjY3IDEuNzMyLTNMMTMuNzMyIDRjLS43Ny0xLjMzMy0yLjY5NC0xLjMzMy0zLjQ2NCAwTDMuMzQgMTZjLS43NyAxLjMzMy4xOTIgMyAxLjczMiAzeiIgLz48L3N2Zz4=){.flex-none
.w-5 .h-5 .text-amber-400 .dark:text-amber-300/80}
:::

::: {.text-sm .prose .min-w-0 .w-full .text-amber-900 .dark:text-amber-200 component-part="callout-content"}
`"matcher": "*"` is invalid. Instead, omit "matcher" or use
`"matcher": ""`.
:::
:::::

##  {#hook-events .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#hook-events){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Hook Events]{.cursor-pointer}

###  {#pretooluse .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#pretooluse){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PreToolUse]{.cursor-pointer}

Runs after Claude creates tool parameters and before processing the tool
call.

**Common matchers:**

-   `Task` - Agent tasks
-   `Bash` - Shell commands
-   `Glob` - File pattern matching
-   `Grep` - Content search
-   `Read` - File reading
-   `Edit`, `MultiEdit` - File editing
-   `Write` - File writing
-   `WebFetch`, `WebSearch` - Web operations

###  {#posttooluse .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#posttooluse){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PostToolUse]{.cursor-pointer}

Runs immediately after a tool completes successfully.

Recognizes the same matcher values as PreToolUse.

###  {#notification .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#notification){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Notification]{.cursor-pointer}

Runs when Claude Code sends notifications. Notifications are sent when:

1.  Claude needs your permission to use a tool. Example: "Claude needs
    your permission to use Bash"
2.  The prompt input has been idle for at least 60 seconds. "Claude is
    waiting for your input"

###  {#stop .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#stop){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Stop]{.cursor-pointer}

Runs when the main Claude Code agent has finished responding. Does not
run if the stoppage occurred due to a user interrupt.

###  {#subagentstop .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#subagentstop){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[SubagentStop]{.cursor-pointer}

Runs when a Claude Code subagent (Task tool call) has finished
responding.

###  {#precompact .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#precompact){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PreCompact]{.cursor-pointer}

Runs before Claude Code is about to run a compact operation.

**Matchers:**

-   `manual` - Invoked from `/compact`
-   `auto` - Invoked from auto-compact (due to full context window)

##  {#hook-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#hook-input){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Hook Input]{.cursor-pointer}

Hooks receive JSON data via stdin containing session information and
event-specific data:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-typescript
{
  // Common fields
  session_id: string
  transcript_path: string  // Path to conversation JSON

  // Event-specific fields
  hook_event_name: string
  ...
}
```
:::
::::
:::::

###  {#pretooluse-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#pretooluse-input){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PreToolUse Input]{.cursor-pointer}

The exact schema for `tool_input` depends on the tool.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../00893aaf-19fa-41d2-8238-13269b9b3ca0.jsonl",
  "hook_event_name": "PreToolUse",
  "tool_name": "Write",
  "tool_input": {
    "file_path": "/path/to/file.txt",
    "content": "file content"
  }
}
```
:::
::::
:::::

###  {#posttooluse-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#posttooluse-input){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PostToolUse Input]{.cursor-pointer}

The exact schema for `tool_input` and `tool_response` depends on the
tool.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../00893aaf-19fa-41d2-8238-13269b9b3ca0.jsonl",
  "hook_event_name": "PostToolUse",
  "tool_name": "Write",
  "tool_input": {
    "file_path": "/path/to/file.txt",
    "content": "file content"
  },
  "tool_response": {
    "filePath": "/path/to/file.txt",
    "success": true
  }
}
```
:::
::::
:::::

###  {#notification-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#notification-input){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Notification Input]{.cursor-pointer}

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../00893aaf-19fa-41d2-8238-13269b9b3ca0.jsonl",
  "hook_event_name": "Notification",
  "message": "Task completed successfully"
}
```
:::
::::
:::::

###  {#stop-and-subagentstop-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#stop-and-subagentstop-input){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Stop and SubagentStop Input]{.cursor-pointer}

`stop_hook_active` is true when Claude Code is already continuing as a
result of a stop hook. Check this value or process the transcript to
prevent Claude Code from running indefinitely.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../00893aaf-19fa-41d2-8238-13269b9b3ca0.jsonl",
  "hook_event_name": "Stop",
  "stop_hook_active": true
}
```
:::
::::
:::::

###  {#precompact-input .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#precompact-input){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[PreCompact Input]{.cursor-pointer}

For `manual`, `custom_instructions` comes from what the user passes into
`/compact`. For `auto`, `custom_instructions` is empty.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../00893aaf-19fa-41d2-8238-13269b9b3ca0.jsonl",
  "hook_event_name": "PreCompact",
  "trigger": "manual",
  "custom_instructions": ""
}
```
:::
::::
:::::

##  {#hook-output .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#hook-output){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Hook Output]{.cursor-pointer}

There are two ways for hooks to return output back to Claude Code. The
output communicates whether to block and any feedback that should be
shown to Claude and the user.

###  {#simple%3A-exit-code .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#simple%3A-exit-code){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Simple: Exit Code]{.cursor-pointer}

Hooks communicate status through exit codes, stdout, and stderr:

-   **Exit code 0**: Success. `stdout` is shown to the user in
    transcript mode (CTRL-R).
-   **Exit code 2**: Blocking error. `stderr` is fed back to Claude to
    process automatically. See per-hook-event behavior below.
-   **Other exit codes**: Non-blocking error. `stderr` is shown to the
    user and execution continues.

::::: {.callout .my-4 .px-5 .py-4 .overflow-hidden .rounded-2xl .flex .gap-3 .border .border-amber-500/20 .bg-amber-50/50 .dark:border-amber-500/30 .dark:bg-amber-500/10 callout-type="warning"}
::: {.mt-0.5 .w-4 component-part="callout-icon"}
![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iZmxleC1ub25lIHctNSBoLTUgdGV4dC1hbWJlci00MDAgZGFyazp0ZXh0LWFtYmVyLTMwMC84MCIgZmlsbD0ibm9uZSIgdmlld2JveD0iMCAwIDI0IDI0IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBhcmlhLWxhYmVsPSJXYXJuaW5nIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xMiA5djJtMCA0aC4wMW0tNi45MzggNGgxMy44NTZjMS41NCAwIDIuNTAyLTEuNjY3IDEuNzMyLTNMMTMuNzMyIDRjLS43Ny0xLjMzMy0yLjY5NC0xLjMzMy0zLjQ2NCAwTDMuMzQgMTZjLS43NyAxLjMzMy4xOTIgMyAxLjczMiAzeiIgLz48L3N2Zz4=){.flex-none
.w-5 .h-5 .text-amber-400 .dark:text-amber-300/80}
:::

::: {.text-sm .prose .min-w-0 .w-full .text-amber-900 .dark:text-amber-200 component-part="callout-content"}
Reminder: Claude Code does not see stdout if the exit code is 0.
:::
:::::

####  {#exit-code-2-behavior .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#exit-code-2-behavior){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Exit Code 2 Behavior]{.cursor-pointer}

  Hook Event       Behavior
  ---------------- -------------------------------------------------
  `PreToolUse`     Blocks the tool call, shows error to Claude
  `PostToolUse`    Shows error to Claude (tool already ran)
  `Notification`   N/A, shows stderr to user only
  `Stop`           Blocks stoppage, shows error to Claude
  `SubagentStop`   Blocks stoppage, shows error to Claude subagent
  `PreCompact`     N/A, shows stderr to user only

###  {#advanced%3A-json-output .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#advanced%3A-json-output){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Advanced: JSON Output]{.cursor-pointer}

Hooks can return structured JSON in `stdout` for more sophisticated
control:

####  {#common-json-fields .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#common-json-fields){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Common JSON Fields]{.cursor-pointer}

All hook types can include these optional fields:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "continue": true, // Whether Claude should continue after hook execution (default: true)
  "stopReason": "string" // Message shown when continue is false
  "suppressOutput": true, // Hide stdout from transcript mode (default: false)
}
```
:::
::::
:::::

If `continue` is false, Claude stops processing after the hooks run.

-   For `PreToolUse`, this is different from `"decision": "block"`,
    which only blocks a specific tool call and provides automatic
    feedback to Claude.
-   For `PostToolUse`, this is different from `"decision": "block"`,
    which provides automated feedback to Claude.
-   For `Stop` and `SubagentStop`, this takes precedence over any
    `"decision": "block"` output.
-   In all cases, `"continue" = false` takes precedence over any
    `"decision": "block"` output.

`stopReason` accompanies `continue` with a reason shown to the user, not
shown to Claude.

####  {#pretooluse-decision-control .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#pretooluse-decision-control){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[`PreToolUse` Decision Control]{.cursor-pointer}

`PreToolUse` hooks can control whether a tool call proceeds.

-   "approve" bypasses the permission system. `reason` is shown to the
    user but not to Claude.
-   "block" prevents the tool call from executing. `reason` is shown to
    Claude.
-   `undefined` leads to the existing permission flow. `reason` is
    ignored.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "decision": "approve" | "block" | undefined,
  "reason": "Explanation for decision"
}
```
:::
::::
:::::

####  {#posttooluse-decision-control .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#posttooluse-decision-control){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[`PostToolUse` Decision Control]{.cursor-pointer}

`PostToolUse` hooks can control whether a tool call proceeds.

-   "block" automatically prompts Claude with `reason`.
-   `undefined` does nothing. `reason` is ignored.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "decision": "block" | undefined,
  "reason": "Explanation for decision"
}
```
:::
::::
:::::

####  {#stop%2Fsubagentstop-decision-control .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#stop%2Fsubagentstop-decision-control){.-ml-10 .flex .items-center
.opacity-0 .border-0 .group-hover:opacity-100
aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[`Stop`/`SubagentStop` Decision Control]{.cursor-pointer}

`Stop` and `SubagentStop` hooks can control whether Claude must
continue.

-   "block" prevents Claude from stopping. You must populate `reason`
    for Claude to know how to proceed.
-   `undefined` allows Claude to stop. `reason` is ignored.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "decision": "block" | undefined,
  "reason": "Must be provided when Claude is blocked from stopping"
}
```
:::
::::
:::::

####  {#json-output-example%3A-bash-command-editing .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#json-output-example%3A-bash-command-editing){.-ml-10 .flex
.items-center .opacity-0 .border-0 .group-hover:opacity-100
aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[JSON Output Example: Bash Command Editing]{.cursor-pointer}

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-python
#!/usr/bin/env python3
import json
import re
import sys

# Define validation rules as a list of (regex pattern, message) tuples
VALIDATION_RULES = [
    (
        r"\bgrep\b(?!.*\|)",
        "Use 'rg' (ripgrep) instead of 'grep' for better performance and features",
    ),
    (
        r"\bfind\s+\S+\s+-name\b",
        "Use 'rg --files | rg pattern' or 'rg --files -g pattern' instead of 'find -name' for better performance",
    ),
]


def validate_command(command: str) -> list[str]:
    issues = []
    for pattern, message in VALIDATION_RULES:
        if re.search(pattern, command):
            issues.append(message)
    return issues


try:
    input_data = json.load(sys.stdin)
except json.JSONDecodeError as e:
    print(f"Error: Invalid JSON input: {e}", file=sys.stderr)
    sys.exit(1)

tool_name = input_data.get("tool_name", "")
tool_input = input_data.get("tool_input", {})
command = tool_input.get("command", "")

if tool_name != "Bash" or not command:
    sys.exit(1)

# Validate the command
issues = validate_command(command)

if issues:
    for message in issues:
        print(f"• {message}", file=sys.stderr)
    # Exit code 2 blocks tool call and shows stderr to Claude
    sys.exit(2)
```
:::
::::
:::::

##  {#working-with-mcp-tools .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#working-with-mcp-tools){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Working with MCP Tools]{.cursor-pointer}

Claude Code hooks work seamlessly with [Model Context Protocol (MCP)
tools](/en/docs/claude-code/mcp){.link}. When MCP servers provide tools,
they appear with a special naming pattern that you can match in your
hooks.

###  {#mcp-tool-naming .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#mcp-tool-naming){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[MCP Tool Naming]{.cursor-pointer}

MCP tools follow the pattern `mcp__<server>__<tool>`, for example:

-   `mcp__memory__create_entities` - Memory server's create entities
    tool
-   `mcp__filesystem__read_file` - Filesystem server's read file tool
-   `mcp__github__search_repositories` - GitHub server's search tool

###  {#configuring-hooks-for-mcp-tools .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#configuring-hooks-for-mcp-tools){.-ml-10 .flex .items-center
.opacity-0 .border-0 .group-hover:opacity-100
aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Configuring Hooks for MCP Tools]{.cursor-pointer}

You can target specific MCP tools or entire MCP servers:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "mcp__memory__.*",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'Memory operation initiated' >> ~/mcp-operations.log"
          }
        ]
      },
      {
        "matcher": "mcp__.*__write.*",
        "hooks": [
          {
            "type": "command",
            "command": "/home/user/scripts/validate-mcp-write.py"
          }
        ]
      }
    ]
  }
}
```
:::
::::
:::::

##  {#examples .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#examples){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Examples]{.cursor-pointer}

###  {#code-formatting .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#code-formatting){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Code Formatting]{.cursor-pointer}

Automatically format code after file modifications:

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "/home/user/scripts/format-code.sh"
          }
        ]
      }
    ]
  }
}
```
:::
::::
:::::

###  {#notification-2 .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#notification-2){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Notification]{.cursor-pointer}

Customize the notification that is sent when Claude Code requests
permission or when the prompt input has become idle.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-json
{
  "hooks": {
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ~/my_custom_notifier.py"
          }
        ]
      }
    ]
  }
}
```
:::
::::
:::::

##  {#security-considerations .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#security-considerations){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Security Considerations]{.cursor-pointer}

###  {#disclaimer .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#disclaimer){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Disclaimer]{.cursor-pointer}

**USE AT YOUR OWN RISK**: Claude Code hooks execute arbitrary shell
commands on your system automatically. By using hooks, you acknowledge
that:

-   You are solely responsible for the commands you configure
-   Hooks can modify, delete, or access any files your user account can
    access
-   Malicious or poorly written hooks can cause data loss or system
    damage
-   Anthropic provides no warranty and assumes no liability for any
    damages resulting from hook usage
-   You should thoroughly test hooks in a safe environment before
    production use

Always review and understand any hook commands before adding them to
your configuration.

###  {#security-best-practices .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#security-best-practices){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Security Best Practices]{.cursor-pointer}

Here are some key practices for writing more secure hooks:

1.  **Validate and sanitize inputs** - Never trust input data blindly
2.  **Always quote shell variables** - Use `"$VAR"` not `$VAR`
3.  **Block path traversal** - Check for `..` in file paths
4.  **Use absolute paths** - Specify full paths for scripts
5.  **Skip sensitive files** - Avoid `.env`, `.git/`, keys, etc.

###  {#configuration-safety .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#configuration-safety){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Configuration Safety]{.cursor-pointer}

Direct edits to hooks in settings files don't take effect immediately.
Claude Code:

1.  Captures a snapshot of hooks at startup
2.  Uses this snapshot throughout the session
3.  Warns if hooks are modified externally
4.  Requires review in `/hooks` menu for changes to apply

This prevents malicious hook modifications from affecting your current
session.

##  {#hook-execution-details .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#hook-execution-details){.-ml-10 .flex .items-center .opacity-0
.border-0 .group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Hook Execution Details]{.cursor-pointer}

-   **Timeout**: 60-second execution limit by default, configurable per
    command.
    -   A timeout for an individual command does not affect the other
        commands.
-   **Parallelization**: All matching hooks run in parallel
-   **Environment**: Runs in current directory with Claude Code's
    environment
-   **Input**: JSON via stdin
-   **Output**:
    -   PreToolUse/PostToolUse/Stop: Progress shown in transcript
        (Ctrl-R)
    -   Notification: Logged to debug only (`--debug`)

##  {#debugging .flex .whitespace-pre-wrap .group .font-semibold}

:::: absolute
[​](#debugging){.-ml-10 .flex .items-center .opacity-0 .border-0
.group-hover:opacity-100 aria-label="Navigate to header"}

::: {.w-6 .h-6 .rounded-md .flex .items-center .justify-center .shadow-sm .text-gray-400 .dark:text-white/50 .dark:bg-background-dark .dark:brightness-[1.35] .dark:ring-1 .dark:hover:brightness-150 .bg-white .ring-1 .ring-gray-400/30 .dark:ring-gray-700/25 .hover:ring-gray-400/60 .dark:hover:ring-white/20}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImdyYXkiIGhlaWdodD0iMTJweCIgdmlld2JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGQ9Ik0wIDI1NkMwIDE2Ny42IDcxLjYgOTYgMTYwIDk2aDcyYzEzLjMgMCAyNCAxMC43IDI0IDI0cy0xMC43IDI0LTI0IDI0SDE2MEM5OC4xIDE0NCA0OCAxOTQuMSA0OCAyNTZzNTAuMSAxMTIgMTEyIDExMmg3MmMxMy4zIDAgMjQgMTAuNyAyNCAyNHMtMTAuNyAyNC0yNCAyNEgxNjBDNzEuNiA0MTYgMCAzNDQuNCAwIDI1NnptNTc2IDBjMCA4OC40LTcxLjYgMTYwLTE2MCAxNjBIMzQ0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0aDcyYzYxLjkgMCAxMTItNTAuMSAxMTItMTEycy01MC4xLTExMi0xMTItMTEySDM0NGMtMTMuMyAwLTI0LTEwLjctMjQtMjRzMTAuNy0yNCAyNC0yNGg3MmM4OC40IDAgMTYwIDcxLjYgMTYwIDE2MHpNMTg0IDIzMkgzOTJjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRIMTg0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHMxMC43LTI0IDI0LTI0eiIgLz48L3N2Zz4=)
:::
::::

[Debugging]{.cursor-pointer}

To troubleshoot hooks:

1.  Check if `/hooks` menu displays your configuration
2.  Verify that your [settings
    files](/en/docs/claude-code/settings){.link} are valid JSON
3.  Test commands manually
4.  Check exit codes
5.  Review stdout and stderr format expectations
6.  Ensure proper quote escaping
7.  Use `claude --debug` to debug your hooks. The output of a successful
    hook appears like below.

::::: {.code-block .mt-5 .mb-8 .not-prose .rounded-2xl .relative .group .text-gray-50 .bg-[#0F1117] .dark:bg-codeblock .ring-1 .ring-transparent .dark:ring-gray-800/50 .codeblock-dark}
:::: {.min-w-full .relative .text-sm .leading-6 .children:!my-0 .children:!shadow-none .children:!bg-transparent .transition-[height] .duration-300 .ease-in-out component-part="code-block-root" style="font-variant-ligatures:none;height:auto"}
::: {.overflow-x-auto .h-full .p-5 .[&>pre>code]:pr-[3rem] .[&>pre>code>span.line-highlight]:min-w-[calc(100%+3rem)] .overflow-y-hidden .scrollbar-thin .scrollbar-thumb-rounded .scrollbar-thumb-white/20 .dark:scrollbar-thumb-white/20 .hover:scrollbar-thumb-white/25 .dark:hover:scrollbar-thumb-white/25 .active:scrollbar-thumb-white/25 .dark:active:scrollbar-thumb-white/25}
``` language-plaintext
[DEBUG] Executing hooks for PostToolUse:Write
[DEBUG] Getting matching hook commands for PostToolUse with query: Write
[DEBUG] Found 1 hook matchers in settings
[DEBUG] Matched 1 hooks for query "Write"
[DEBUG] Found 1 hook commands to execute
[DEBUG] Executing hook command: <Your command> with timeout 60000ms
[DEBUG] Hook command completed with status 0: <Your stdout>
```
:::
::::
:::::

Progress messages appear in transcript mode (Ctrl-R) showing:

-   Which hook is running
-   Command being executed
-   Success/failure status
-   Output or error messages
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::: {.leading-6 .mt-14}
::::::: {.feedback-toolbar .pb-16 .w-full}
:::::: {.flex .flex-col .gap-y-4 .xl:flex-col .xl:gap-6 .min-[1400px]:flex-row .md:flex-row .md:justify-end}
:::: {.flex .flex-row .gap-5 .items-center .grow .justify-between .md:justify-start .xl:justify-between .min-[1400px]:justify-start}
Was this page helpful?

::: {.flex .flex-row .gap-3 .items-center}
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld2JveD0iMCAwIDE2IDE2IiBjbGFzcz0iZmlsbC1jdXJyZW50Ij48cGF0aCBkPSJNMTAuMTE4NyAxLjA4NzQxQzguOTI1IDAuNzQ2Nzg5IDcuNjc4MTMgMS40Mzc0MSA3LjMzNzUgMi42MzExNkw3LjE1OTM4IDMuMjU2MTZDNy4wNDM3NSAzLjY2MjQxIDYuODM0MzggNC4wMzc0MSA2LjU1IDQuMzQ5OTFMNC45NDY4OCA2LjExMjQxQzQuNjY4NzUgNi40MTg2NiA0LjY5MDYyIDYuODkzNjYgNC45OTY4NyA3LjE3MTc5QzUuMzAzMTIgNy40NDk5MSA1Ljc3ODEzIDcuNDI4MDQgNi4wNTYyNSA3LjEyMTc5TDcuNjU5MzggNS4zNTkyOUM4LjEgNC44NzQ5MSA4LjQyMTg4IDQuMjk2NzkgOC42IDMuNjY4NjZMOC43NzgxMiAzLjA0MzY2QzguODkwNjIgMi42NDY3OSA5LjMwNjI1IDIuNDE1NTQgOS43MDYyNSAyLjUyODA0QzEwLjEwNjMgMi42NDA1NCAxMC4zMzQ0IDMuMDU2MTYgMTAuMjIxOSAzLjQ1NjE2TDEwLjA0MzcgNC4wODExNkM5Ljg2NTYyIDQuNzAzMDQgOS41ODQzNyA1LjI5MDU0IDkuMjEyNSA1LjgxNTU0QzkuMDUgNi4wNDM2NiA5LjAzMTI1IDYuMzQzNjYgOS4xNTkzOCA2LjU5MzY2QzkuMjg3NSA2Ljg0MzY2IDkuNTQzNzUgNi45OTk5MSA5LjgyNSA2Ljk5OTkxSDE0QzE0LjI3NSA2Ljk5OTkxIDE0LjUgNy4yMjQ5MSAxNC41IDcuNDk5OTFDMTQuNSA3LjcxMjQxIDE0LjM2NTYgNy44OTY3OSAxNC4xNzUgNy45Njg2NkMxMy45NDM4IDguMDU2MTYgMTMuNzY4OCA4LjI0OTkyIDEzLjcwOTQgOC40OTA1NEMxMy42NSA4LjczMTE3IDEzLjcxMjUgOC45ODQyOSAxMy44NzUgOS4xNjg2NkMxMy45NTMxIDkuMjU2MTYgMTQgOS4zNzE3OSAxNCA5LjQ5OTkxQzE0IDkuNzQzNjYgMTMuODI1IDkuOTQ2NzkgMTMuNTkzOCA5Ljk5MDU0QzEzLjMzNzUgMTAuMDQwNSAxMy4xMjE5IDEwLjIxODcgMTMuMDMxMiAxMC40NjI0QzEyLjk0MDYgMTAuNzA2MiAxMi45ODEzIDEwLjk4NDMgMTMuMTQzOCAxMS4xOTA1QzEzLjIwOTQgMTEuMjc0OSAxMy4yNSAxMS4zODEyIDEzLjI1IDExLjQ5OTlDMTMuMjUgMTEuNzA5MyAxMy4xMTg3IDExLjg5MzcgMTIuOTMxMiAxMS45NjU1QzEyLjU3MTkgMTIuMTA2MiAxMi4zNzgxIDEyLjQ5MzcgMTIuNDgxMiAxMi44NjU1QzEyLjQ5MzcgMTIuOTA2MiAxMi41IDEyLjk1MyAxMi41IDEyLjk5OTlDMTIuNSAxMy4yNzQ5IDEyLjI3NSAxMy40OTk5IDEyIDEzLjQ5OTlIOC45NTMxMkM4LjU1OTM3IDEzLjQ5OTkgOC4xNzE4OCAxMy4zODQzIDcuODQzNzUgMTMuMTY1NUw1LjkxNTYzIDExLjg4MTJDNS41NzE4OCAxMS42NDk5IDUuMTA2MjUgMTEuNzQzNyA0Ljg3NSAxMi4wOTA1QzQuNjQzNzUgMTIuNDM3NCA0LjczNzUgMTIuODk5OSA1LjA4NDM3IDEzLjEzMTJMNy4wMTI1IDE0LjQxNTVDNy41ODc1IDE0Ljc5OTkgOC4yNjI1IDE1LjAwMyA4Ljk1MzEyIDE1LjAwM0gxMkMxMy4wODQ0IDE1LjAwMyAxMy45NjU2IDE0LjE0MDUgMTQgMTMuMDY1NUMxNC40NTYzIDEyLjY5OTkgMTQuNzUgMTIuMTM3NCAxNC43NSAxMS41MDNDMTQuNzUgMTEuMzYyNCAxNC43MzQ0IDExLjIyOCAxNC43MDk0IDExLjA5NjhDMTUuMTkwNiAxMC43MzEyIDE1LjUgMTAuMTUzIDE1LjUgOS41MDMwNEMxNS41IDkuMjk5OTEgMTUuNDY4OCA5LjEwMzA0IDE1LjQxMjUgOC45MTg2NkMxNS43NzUgOC41NTMwNCAxNiA4LjA1MzA0IDE2IDcuNDk5OTFDMTYgNi4zOTY3OSAxNS4xMDYzIDUuNDk5OTEgMTQgNS40OTk5MUgxMS4xMTU2QzExLjI2MjUgNS4xNzQ5MSAxMS4zODc1IDQuODM3NDEgMTEuNDg0NCA0LjQ5MzY2TDExLjY2MjUgMy44Njg2NkMxMi4wMDMxIDIuNjc0OTEgMTEuMzEyNSAxLjQyODA0IDEwLjExODcgMS4wODc0MVpNMSA1Ljk5OTkxQzAuNDQ2ODc1IDUuOTk5OTEgMCA2LjQ0Njc5IDAgNi45OTk5MVYxMy45OTk5QzAgMTQuNTUzIDAuNDQ2ODc1IDE0Ljk5OTkgMSAxNC45OTk5SDNDMy41NTMxMyAxNC45OTk5IDQgMTQuNTUzIDQgMTMuOTk5OVY2Ljk5OTkxQzQgNi40NDY3OSAzLjU1MzEzIDUuOTk5OTEgMyA1Ljk5OTkxSDFaIiAvPjwvc3ZnPg==){.fill-current}[Yes]{.small}

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld2JveD0iMCAwIDE2IDE2IiBjbGFzcz0iZmlsbC1jdXJyZW50Ij48cGF0aCBkPSJNMTAuMTE4NyAxNC45MTI0QzguOTI1IDE1LjI1MyA3LjY3ODEzIDE0LjU2MjQgNy4zMzc1IDEzLjM2ODdMNy4xNTkzOCAxMi43NDM3QzcuMDQzNzUgMTIuMzM3NCA2LjgzNDM4IDExLjk2MjQgNi41NSAxMS42NDk5TDQuOTQ2ODggOS44ODc0QzQuNjY4NzUgOS41ODExNSA0LjY5MDYyIDkuMTA2MTUgNC45OTY4NyA4LjgyODAzQzUuMzAzMTIgOC41NDk5IDUuNzc4MTMgOC41NzE3OCA2LjA1NjI1IDguODc4MDNMNy42NTkzOCAxMC42NDA1QzguMSAxMS4xMjQ5IDguNDIxODggMTEuNzAzIDguNiAxMi4zMzEyTDguNzc4MTIgMTIuOTU2MkM4Ljg5MDYyIDEzLjM1MyA5LjMwNjI1IDEzLjU4NDMgOS43MDYyNSAxMy40NzE4QzEwLjEwNjMgMTMuMzU5MyAxMC4zMzQ0IDEyLjk0MzcgMTAuMjIxOSAxMi41NDM3TDEwLjA0MzcgMTEuOTE4N0M5Ljg2NTYyIDExLjI5NjggOS41ODQzNyAxMC43MDkzIDkuMjEyNSAxMC4xODQzQzkuMDUgOS45NTYxNSA5LjAzMTI1IDkuNjU2MTUgOS4xNTkzOCA5LjQwNjE1QzkuMjg3NSA5LjE1NjE1IDkuNTQzNzUgOC45OTk5IDkuODI1IDguOTk5OUgxNEMxNC4yNzUgOC45OTk5IDE0LjUgOC43NzQ5IDE0LjUgOC40OTk5QzE0LjUgOC4yODc0IDE0LjM2NTYgOC4xMDMwMyAxNC4xNzUgOC4wMzExNUMxMy45NDM4IDcuOTQzNjUgMTMuNzY4OCA3Ljc0OTkgMTMuNzA5NCA3LjUwOTI4QzEzLjY1IDcuMjY4NjUgMTMuNzEyNSA3LjAxNTUzIDEzLjg3NSA2LjgzMTE1QzEzLjk1MzEgNi43NDM2NSAxNCA2LjYyODAzIDE0IDYuNDk5OUMxNCA2LjI1NjE1IDEzLjgyNSA2LjA1MzAzIDEzLjU5MzggNi4wMDkyOEMxMy4zMzc1IDUuOTU5MjggMTMuMTIxOSA1Ljc4MTE1IDEzLjAzMTIgNS41MzQyOEMxMi45NDA2IDUuMjg3NCAxMi45ODEzIDUuMDEyNCAxMy4xNDM4IDQuODA2MTVDMTMuMjA5NCA0LjcyMTc4IDEzLjI1IDQuNjE1NTMgMTMuMjUgNC40OTY3OEMxMy4yNSA0LjI4NzQgMTMuMTE4NyA0LjEwMzAzIDEyLjkzMTIgNC4wMzExNUMxMi41NzE5IDMuODkwNTMgMTIuMzc4MSAzLjUwMzAzIDEyLjQ4MTIgMy4xMzExNUMxMi40OTM3IDMuMDkwNTMgMTIuNSAzLjA0MzY1IDEyLjUgMi45OTY3OEMxMi41IDIuNzIxNzggMTIuMjc1IDIuNDk2NzggMTIgMi40OTY3OEg4Ljk1MzEyQzguNTU5MzcgMi40OTY3OCA4LjE3MTg4IDIuNjEyNCA3Ljg0Mzc1IDIuODMxMTVMNS45MTU2MyA0LjExNTUzQzUuNTcxODggNC4zNDY3OCA1LjEwNjI1IDQuMjUzMDMgNC44NzUgMy45MDYxNUM0LjY0Mzc1IDMuNTU5MjggNC43Mzc1IDMuMDk2NzggNS4wODQzNyAyLjg2NTUzTDcuMDEyNSAxLjU4MTE1QzcuNTg3NSAxLjE5Njc4IDguMjYyNSAwLjk5MzY1MiA4Ljk1MzEyIDAuOTkzNjUySDEyQzEzLjA4NDQgMC45OTM2NTIgMTMuOTY1NiAxLjg1NjE1IDE0IDIuOTMxMTVDMTQuNDU2MyAzLjI5Njc4IDE0Ljc1IDMuODU5MjggMTQuNzUgNC40OTM2NUMxNC43NSA0LjYzNDI4IDE0LjczNDQgNC43Njg2NSAxNC43MDk0IDQuODk5OUMxNS4xOTA2IDUuMjY1NTMgMTUuNSA1Ljg0MzY1IDE1LjUgNi40OTM2NUMxNS41IDYuNjk2NzggMTUuNDY4OCA2Ljg5MzY1IDE1LjQxMjUgNy4wNzgwM0MxNS43NzUgNy40NDY3OCAxNiA3Ljk0Njc4IDE2IDguNDk5OUMxNiA5LjYwMzAzIDE1LjEwNjMgMTAuNDk5OSAxNCAxMC40OTk5SDExLjExNTZDMTEuMjYyNSAxMC44MjQ5IDExLjM4NzUgMTEuMTYyNCAxMS40ODQ0IDExLjUwNjJMMTEuNjYyNSAxMi4xMzEyQzEyLjAwMzEgMTMuMzI0OSAxMS4zMTI1IDE0LjU3MTggMTAuMTE4NyAxNC45MTI0Wk0xIDExLjk5OTlDMC40NDY4NzUgMTEuOTk5OSAwIDExLjU1MyAwIDEwLjk5OTlWMy45OTk5QzAgMy40NDY3OCAwLjQ0Njg3NSAyLjk5OTkgMSAyLjk5OTlIM0MzLjU1MzEzIDIuOTk5OSA0IDMuNDQ2NzggNCAzLjk5OTlWMTAuOTk5OUM0IDExLjU1MyAzLjU1MzEzIDExLjk5OTkgMyAxMS45OTk5SDFaIiAvPjwvc3ZnPg==){.fill-current}[No]{.small}
:::
::::

::: {.flex .flex-row .gap-3 .justify-end}
:::
::::::
:::::::

::: {#pagination .mb-12 .px-0.5 .flex .items-center .text-sm .font-semibold .text-gray-700 .dark:text-gray-200}
[![](data:image/svg+xml;base64,PHN2ZyB2aWV3Ym94PSIwIDAgMyA2IiBjbGFzcz0iaC0xLjUgc3Ryb2tlLWdyYXktNDAwIG92ZXJmbG93LXZpc2libGUgZ3JvdXAtaG92ZXI6c3Ryb2tlLWdyYXktNjAwIGRhcms6Z3JvdXAtaG92ZXI6c3Ryb2tlLWdyYXktMzAwIj48cGF0aCBkPSJNMyAwTDAgM0wzIDYiIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPjwvc3ZnPg==){.h-1.5
.stroke-gray-400 .overflow-visible .group-hover:stroke-gray-600
.dark:group-hover:stroke-gray-300}[Slash
commands]{.group-hover:text-gray-900
.dark:group-hover:text-white}](/en/docs/claude-code/slash-commands){.flex
.items-center .space-x-3 .group}
:::

::: {.flex .gap-6 .flex-wrap}
[[x]{.sr-only}![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0idy01IGgtNSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIGhvdmVyOmJnLWdyYXktNTAwIGRhcms6aG92ZXI6YmctZ3JheS00MDAiIHN0eWxlPSItd2Via2l0LW1hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9icmFuZHMveC10d2l0dGVyLnN2Zyk7LXdlYmtpdC1tYXNrLXJlcGVhdDpuby1yZXBlYXQ7LXdlYmtpdC1tYXNrLXBvc2l0aW9uOmNlbnRlcjttYXNrLWltYWdlOnVybChodHRwczovL21pbnRsaWZ5LmItY2RuLm5ldC92Ni42LjAvYnJhbmRzL3gtdHdpdHRlci5zdmcpO21hc2stcmVwZWF0Om5vLXJlcGVhdDttYXNrLXBvc2l0aW9uOmNlbnRlciI+PC9zdmc+){.w-5
.h-5 .bg-gray-400 .dark:bg-gray-500 .hover:bg-gray-500
.dark:hover:bg-gray-400}](https://x.com/AnthropicAI){target="_blank"}[[linkedin]{.sr-only}![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0idy01IGgtNSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIGhvdmVyOmJnLWdyYXktNTAwIGRhcms6aG92ZXI6YmctZ3JheS00MDAiIHN0eWxlPSItd2Via2l0LW1hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9icmFuZHMvbGlua2VkaW4uc3ZnKTstd2Via2l0LW1hc2stcmVwZWF0Om5vLXJlcGVhdDstd2Via2l0LW1hc2stcG9zaXRpb246Y2VudGVyO21hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9icmFuZHMvbGlua2VkaW4uc3ZnKTttYXNrLXJlcGVhdDpuby1yZXBlYXQ7bWFzay1wb3NpdGlvbjpjZW50ZXIiPjwvc3ZnPg==){.w-5
.h-5 .bg-gray-400 .dark:bg-gray-500 .hover:bg-gray-500
.dark:hover:bg-gray-400}](https://www.linkedin.com/company/anthropicresearch){target="_blank"}[[discord]{.sr-only}![](data:image/svg+xml;base64,PHN2ZyBjbGFzcz0idy01IGgtNSBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktNTAwIGhvdmVyOmJnLWdyYXktNTAwIGRhcms6aG92ZXI6YmctZ3JheS00MDAiIHN0eWxlPSItd2Via2l0LW1hc2staW1hZ2U6dXJsKGh0dHBzOi8vbWludGxpZnkuYi1jZG4ubmV0L3Y2LjYuMC9icmFuZHMvZGlzY29yZC5zdmcpOy13ZWJraXQtbWFzay1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtbWFzay1wb3NpdGlvbjpjZW50ZXI7bWFzay1pbWFnZTp1cmwoaHR0cHM6Ly9taW50bGlmeS5iLWNkbi5uZXQvdjYuNi4wL2JyYW5kcy9kaXNjb3JkLnN2Zyk7bWFzay1yZXBlYXQ6bm8tcmVwZWF0O21hc2stcG9zaXRpb246Y2VudGVyIj48L3N2Zz4=){.w-5
.h-5 .bg-gray-400 .dark:bg-gray-500 .hover:bg-gray-500
.dark:hover:bg-gray-400}](https://www.anthropic.com/discord){target="_blank"}
:::
::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

:::::: {#content-side-layout .hidden .xl:flex .self-start .sticky .xl:flex-col .h-[calc(100vh-9.5rem)] .top-[9.5rem]}
::::: {#table-of-contents-layout .z-10 .hidden .xl:flex .pl-10 .box-border .w-[19rem] .max-h-full}
:::: {#table-of-contents .text-gray-600 .text-sm .leading-6 .w-[16.5rem] .overflow-y-auto .space-y-2 .pb-4 .-mt-10 .pt-10}
::: {.text-gray-700 .dark:text-gray-300 .font-medium .flex .items-center .space-x-2}
![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdib3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaC0zIHctMyI+PHBhdGggZD0iTTIuNDQ0MzQgMTIuNjY2NUgxMy41NTU0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+PHBhdGggZD0iTTIuNDQ0MzQgMy4zMzM1SDEzLjU1NTQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz48cGF0aCBkPSJNMi40NDQzNCA4SDcuMzMzMjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz48L3N2Zz4=){.h-3
.w-3}On this page
:::

-   [Introduction](#introduction){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [Quickstart](#quickstart){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [Step 1: Open hooks
    configuration](#step-1%3A-open-hooks-configuration){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Step 2: Add a matcher](#step-2%3A-add-a-matcher){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Step 3: Add the hook](#step-3%3A-add-the-hook){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Step 4: Save your
    configuration](#step-4%3A-save-your-configuration){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Step 5: Verify your hook](#step-5%3A-verify-your-hook){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Configuration](#configuration){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [Structure](#structure){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Hook Events](#hook-events){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [PreToolUse](#pretooluse){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [PostToolUse](#posttooluse){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Notification](#notification){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Stop](#stop){.group .flex .items-start .py-1 .whitespace-pre-wrap
    .text-gray-500 .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300 style="margin-left:1rem"}
-   [SubagentStop](#subagentstop){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [PreCompact](#precompact){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Hook Input](#hook-input){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [PreToolUse Input](#pretooluse-input){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [PostToolUse Input](#posttooluse-input){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Notification Input](#notification-input){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Stop and SubagentStop Input](#stop-and-subagentstop-input){.group
    .flex .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [PreCompact Input](#precompact-input){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Hook Output](#hook-output){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
-   [Simple: Exit Code](#simple%3A-exit-code){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Exit Code 2 Behavior](#exit-code-2-behavior){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [Advanced: JSON Output](#advanced%3A-json-output){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Common JSON Fields](#common-json-fields){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [PreToolUse Decision Control](#pretooluse-decision-control){.group
    .flex .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [PostToolUse Decision Control](#posttooluse-decision-control){.group
    .flex .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [Stop/SubagentStop Decision
    Control](#stop%2Fsubagentstop-decision-control){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [JSON Output Example: Bash Command
    Editing](#json-output-example%3A-bash-command-editing){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:2rem"}
-   [Working with MCP Tools](#working-with-mcp-tools){.py-1 .block
    .font-medium .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300}
-   [MCP Tool Naming](#mcp-tool-naming){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Configuring Hooks for MCP
    Tools](#configuring-hooks-for-mcp-tools){.group .flex .items-start
    .py-1 .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Examples](#examples){.py-1 .block .font-medium .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300}
-   [Code Formatting](#code-formatting){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Notification](#notification-2){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Security Considerations](#security-considerations){.py-1 .block
    .font-medium .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300}
-   [Disclaimer](#disclaimer){.group .flex .items-start .py-1
    .whitespace-pre-wrap .text-gray-500 .hover:text-gray-900
    .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Security Best Practices](#security-best-practices){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Configuration Safety](#configuration-safety){.group .flex
    .items-start .py-1 .whitespace-pre-wrap .text-gray-500
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300
    style="margin-left:1rem"}
-   [Hook Execution Details](#hook-execution-details){.py-1 .block
    .font-medium .hover:text-gray-900 .dark:text-gray-400
    .dark:hover:text-gray-300}
-   [Debugging](#debugging){.py-1 .block .font-medium
    .hover:text-gray-900 .dark:text-gray-400 .dark:hover:text-gray-300}
::::
:::::
::::::
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
